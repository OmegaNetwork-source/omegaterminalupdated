/* ===================================
   COMMAND INPUT UNIFIED STYLING
   Ensures command input box looks uniform across all themes
   =================================== */

/* Base command input styling - applies to all themes */
#commandInput,
.input-field,
.terminal-input {
    font-family: 'SF Mono', 'Monaco', 'Consolas', 'Courier New', monospace !important;
    font-size: 15px !important;
    font-weight: 500 !important;
    line-height: 1.6 !important;
    letter-spacing: 0.3px !important;
    background: transparent !important;
    border: none !important;
    outline: none !important;
    padding: 8px 0 !important;
    width: 100% !important;
    flex: 1 !important;
    min-width: 0 !important;
    max-width: none !important;
    box-sizing: border-box !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    text-align: left !important;
    position: relative !important;
    z-index: 1000 !important;
    pointer-events: auto !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    transition: color 0.2s ease !important;
}

/* Dark mode (default) */
body:not(.light-mode) #commandInput,
body:not(.light-mode) .input-field,
body:not(.light-mode) .terminal-input,
body.dark-mode #commandInput,
body.dark-mode .input-field,
body.dark-mode .terminal-input {
    color: #00D4FF !important;
    caret-color: #00D4FF !important;
}

/* Light mode */
body.light-mode #commandInput,
body.light-mode .input-field,
body.light-mode .terminal-input {
    color: #1D1D1F !important;
    caret-color: #0051d5 !important;
}

/* Apple UI Theme specific */
.terminal.apple-ui #commandInput,
.terminal.apple-ui .input-field,
body.apple-ui-mode #commandInput,
body.apple-ui-mode .input-field {
    font-family: 'SF Mono', 'Monaco', 'Menlo', monospace !important;
    font-size: 15px !important;
    font-weight: 500 !important;
    line-height: 1.6 !important;
}

/* Apple UI Dark mode */
body:not(.light-mode) .terminal.apple-ui #commandInput,
body:not(.light-mode) .terminal.apple-ui .input-field,
body.dark-mode .terminal.apple-ui #commandInput,
body.dark-mode .terminal.apple-ui .input-field,
.terminal.apple-ui.dark #commandInput,
.terminal.apple-ui.dark .input-field {
    color: #F2F2F7 !important;
    caret-color: #0A84FF !important;
}

/* Apple UI Light mode */
body.light-mode .terminal.apple-ui #commandInput,
body.light-mode .terminal.apple-ui .input-field,
.terminal.apple-ui:not(.dark) #commandInput,
.terminal.apple-ui:not(.dark) .input-field {
    color: #1D1D1F !important;
    caret-color: #007AFF !important;
}

/* Basic Terminal Mode */
body.basic-terminal-mode #commandInput,
body.basic-terminal-mode .input-field {
    font-family: 'Courier New', 'Courier', monospace !important;
    font-size: 16px !important;
    font-weight: 400 !important;
    padding: 8px 4px !important;
}

/* Basic Terminal Mode - Dark */
body.basic-terminal-mode:not(.light-mode) #commandInput,
body.basic-terminal-mode:not(.light-mode) .input-field,
body.basic-terminal-mode.dark-mode #commandInput,
body.basic-terminal-mode.dark-mode .input-field {
    color: #00FF00 !important;
    caret-color: #00FF00 !important;
}

/* Basic Terminal Mode - Light */
body.basic-terminal-mode.light-mode #commandInput,
body.basic-terminal-mode.light-mode .input-field {
    color: #1D1D1F !important;
    caret-color: #0051d5 !important;
}

/* Modern Terminal UI */
body.modern-terminal-ui #commandInput,
body.modern-terminal-ui .input-field {
    font-family: 'SF Mono', 'Monaco', 'Consolas', monospace !important;
    font-size: 15px !important;
}

/* Placeholder styling */
#commandInput::placeholder,
.input-field::placeholder,
.terminal-input::placeholder {
    opacity: 0.6 !important;
    font-weight: 400 !important;
}

body:not(.light-mode) #commandInput::placeholder,
body:not(.light-mode) .input-field::placeholder,
body.dark-mode #commandInput::placeholder,
body.dark-mode .input-field::placeholder {
    color: rgba(0, 212, 255, 0.5) !important;
}

body.light-mode #commandInput::placeholder,
body.light-mode .input-field::placeholder {
    color: rgba(29, 29, 31, 0.5) !important;
}

/* Focus state - no theme changes */
#commandInput:focus,
.input-field:focus,
.terminal-input:focus {
    outline: none !important;
    border: none !important;
    box-shadow: none !important;
    background: transparent !important;
    opacity: 1 !important;
}

/* Prevent text rendering issues */
#commandInput,
.input-field {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
    text-rendering: optimizeLegibility !important;
    -webkit-text-stroke: 0 !important;
    text-stroke: 0 !important;
    -webkit-text-fill-color: currentColor !important;
}

/* Selection styling */
#commandInput::selection,
.input-field::selection {
    background: rgba(0, 212, 255, 0.3) !important;
}

body.light-mode #commandInput::selection,
body.light-mode .input-field::selection {
    background: rgba(0, 122, 255, 0.3) !important;
}

/* Mobile responsive */
@media (max-width: 768px) {
    #commandInput,
    .input-field {
        font-size: 16px !important; /* Prevents iOS zoom */
        padding: 10px 4px !important;
    }
}

@media (max-width: 480px) {
    #commandInput,
    .input-field {
        font-size: 16px !important;
        padding: 8px 4px !important;
    }
}

/* Prevent any animations on theme switch */
body.switching-theme #commandInput,
body.switching-theme .input-field,
#commandInput,
.input-field {
    animation: none !important;
    transition: color 0.2s ease !important; /* Only color transitions smoothly */
}

/* Ensure input is always visible and functional */
#commandInput,
.input-field {
    opacity: 1 !important;
    visibility: visible !important;
    display: inline-block !important;
    pointer-events: auto !important;
}

/* Remove any webkit autofill styling */
#commandInput:-webkit-autofill,
.input-field:-webkit-autofill {
    -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
    -webkit-text-fill-color: currentColor !important;
}

/* GUI Themes - ensure consistency */
body.gui-chatgpt #commandInput,
body.gui-discord #commandInput,
body.gui-aol #commandInput,
body.gui-windows95 #commandInput,
body.gui-limewire #commandInput {
    font-family: 'SF Mono', 'Monaco', 'Consolas', monospace !important;
    font-size: 15px !important;
}

/* Landscape orientation */
@media (max-height: 600px) and (orientation: landscape) {
    #commandInput,
    .input-field {
        padding: 6px 4px !important;
        line-height: 1.4 !important;
    }
}

